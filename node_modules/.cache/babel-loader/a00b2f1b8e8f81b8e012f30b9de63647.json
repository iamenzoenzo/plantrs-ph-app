{"ast":null,"code":"import _defineProperty from\"/Volumes/External/MasterGithub/plantrs-ph-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Volumes/External/MasterGithub/plantrs-ph-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Volumes/External/MasterGithub/plantrs-ph-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Volumes/External/MasterGithub/plantrs-ph-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Volumes/External/MasterGithub/plantrs-ph-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _objectSpread from\"/Volumes/External/MasterGithub/plantrs-ph-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React,{Component}from'react';import withStyles from'@material-ui/core/styles/withStyles';import AppLogo from'../images/plantrslogo.png';import{Link}from'react-router-dom';// Material UIs\nimport Card from'@material-ui/core/Card';import Grid from'@material-ui/core/Grid';import Typography from'@material-ui/core/Typography';import{TextField}from'@material-ui/core';import{Button}from'@material-ui/core';import CircularProgress from'@material-ui/core/CircularProgress';// Redux stuffs\nimport{connect}from'react-redux';import{loginUser}from'../redux/actions/userActions';var styles=function styles(theme){return _objectSpread({},theme.spreadThis);};var login=/*#__PURE__*/function(_Component){_inherits(login,_Component);var _super=_createSuper(login);function login(){var _this;_classCallCheck(this,login);_this=_super.call(this);_this.handleSubmit=function(event){event.preventDefault();var userData={email:_this.state.email,password:_this.state.password};_this.props.loginUser(userData,_this.props.history);};_this.handleChange=function(event){_this.setState(_defineProperty({},event.target.name,event.target.value));};_this.state={email:'',password:'',errors:{}};return _this;}_createClass(login,[{key:\"render\",value:function render(){var _this$props=this.props,classes=_this$props.classes,loading=_this$props.UI.loading;var errors=this.state.errors;return/*#__PURE__*/React.createElement(Grid,{container:true,className:classes.form},/*#__PURE__*/React.createElement(Grid,{item:true,sm:true}),/*#__PURE__*/React.createElement(Grid,{item:true,sm:true},/*#__PURE__*/React.createElement(Card,{className:classes.card},/*#__PURE__*/React.createElement(\"img\",{src:AppLogo,alt:\"plantrses/p\",claslogoplantrslogoe:classes.logo}),/*#__PURE__*/React.createElement(Typography,{variant:\"h3\",className:classes.pageTitle},\"Login\"),/*#__PURE__*/React.createElement(\"form\",{noValidate:true,onSubmit:this.handleSubmit},/*#__PURE__*/React.createElement(TextField,{id:\"email\",name:\"email\",type:\"email\",label:\"Email\",className:classes.textField,helperText:errors.email// displays the error below the email field\n,error:errors.email?true:false// checks whether there's error or not\n,value:this.state.email,onChange:this.handleChange,fullWidth:true}),/*#__PURE__*/React.createElement(TextField,{id:\"password\",name:\"password\",type:\"password\",label:\"Password\",className:classes.textField,helperText:errors.password// displays the error below the password field\n,error:errors.password?true:false// checks whether there's error or not\n,value:this.state.password,onChange:this.handleChange,fullWidth:true}),errors.general&&/*#__PURE__*/React.createElement(Typography,{variant:\"body2\",className:classes.customError},errors.general),/*#__PURE__*/React.createElement(Button,{type:\"submit\",variant:\"contained\",color:\"primary\",className:classes.button,disabled:loading},\"Login\",loading&&/*#__PURE__*/React.createElement(CircularProgress,{size:30,className:classes.progress})),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"small\",null,\"Don't have an account yet? \",/*#__PURE__*/React.createElement(\"br\",null),\" Ceate an account \",/*#__PURE__*/React.createElement(Link,{to:\"/signup\"},\"here\"))))),/*#__PURE__*/React.createElement(Grid,{item:true,sm:true}));}}],[{key:\"getDerivedStateFromProps\",value:function getDerivedStateFromProps(props){if(props.UI.errors){return{errors:props.UI.errors};}return null;}/* componentWillReceiveProps(nextProps) {\n        if (nextProps.UI.errors) {\n          this.setState({ errors: nextProps.UI.errors });\n        }\n      } */}]);return login;}(Component);var mapStateToProps=function mapStateToProps(state){return{user:state.user,UI:state.UI};};var mapActionsToProps={loginUser:loginUser};export default connect(mapStateToProps,mapActionsToProps)(withStyles(styles)(login));","map":{"version":3,"sources":["/Volumes/External/MasterGithub/plantrs-ph-app/src/pages/login.js"],"names":["React","Component","withStyles","AppLogo","Link","Card","Grid","Typography","TextField","Button","CircularProgress","connect","loginUser","styles","theme","spreadThis","login","handleSubmit","event","preventDefault","userData","email","state","password","props","history","handleChange","setState","target","name","value","errors","classes","loading","UI","form","card","logo","pageTitle","textField","general","customError","button","progress","mapStateToProps","user","mapActionsToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport PropTypes from 'prop-types';\nimport AppLogo from '../images/plantrslogo.png';\nimport { Link } from 'react-router-dom';\n\n// Material UIs\nimport Card from '@material-ui/core/Card';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport { TextField } from '@material-ui/core';\nimport { Button } from '@material-ui/core';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\n// Redux stuffs\nimport { connect } from 'react-redux';\nimport { loginUser } from '../redux/actions/userActions';\n\n\nconst styles = (theme) => ({\n    ...theme.spreadThis\n});\n\nclass login extends Component {\n    constructor(){\n        super();\n        this.state = {\n            email: '',\n            password: '',\n            errors: {}\n        };\n    }\n    static getDerivedStateFromProps(props) {\n        if (props.UI.errors) {\n          return {\n            errors: props.UI.errors\n          }\n        }\n        return null;\n      }\n      /* componentWillReceiveProps(nextProps) {\n        if (nextProps.UI.errors) {\n          this.setState({ errors: nextProps.UI.errors });\n        }\n      } */\n      handleSubmit = (event) => {\n        event.preventDefault();\n        const userData = {\n            email: this.state.email,\n            password: this.state.password\n        };\n        this.props.loginUser(userData, this.props.history);\n    };\n    handleChange = (event) => {\n        this.setState({\n            [event.target.name]: event.target.value\n        });\n    }\n\n    render() {\n        const { classes, UI: { loading } } = this.props;\n        const { errors } = this.state;\n        return (\n            <Grid container className={classes.form}>\n                <Grid item sm/>\n                <Grid item sm>\n                <Card className={classes.card}>\n                <img src={AppLogo} alt=\"plantrses/p\" claslogoplantrslogoe={classes.logo} />\n                <Typography variant=\"h3\" className={classes.pageTitle}>\n                    Login\n                </Typography>\n                <form noValidate onSubmit={this.handleSubmit}>\n                    <TextField \n                        id=\"email\" \n                        name=\"email\" \n                        type=\"email\" \n                        label=\"Email\" \n                        className={classes.textField} \n                        helperText={errors.email} // displays the error below the email field\n                        error={errors.email ? true : false} // checks whether there's error or not\n                        value={this.state.email} \n                        onChange={this.handleChange} \n                        fullWidth\n                    />\n                    <TextField \n                        id=\"password\" \n                        name=\"password\" \n                        type=\"password\" \n                        label=\"Password\" \n                        className={classes.textField} \n                        helperText={errors.password} // displays the error below the password field\n                        error={errors.password ? true : false} // checks whether there's error or not\n                        value={this.state.password} \n                        onChange={this.handleChange} \n                        fullWidth\n                    />\n                    {errors.general && (\n                        <Typography variant=\"body2\" className={classes.customError}>\n                            {errors.general}\n                        </Typography>\n                    )}\n                    <Button \n                        type=\"submit\" \n                        variant=\"contained\" \n                        color=\"primary\" \n                        className={classes.button}\n                        disabled={loading}\n                    >\n                        Login\n                        {loading && (\n                            <CircularProgress size={30} className={classes.progress}/>\n                        )}\n                    </Button>\n                    <br/>\n                    <small>Don't have an account yet? <br/> Ceate an account <Link to=\"/signup\">here</Link></small>\n                </form>\n                </Card>\n                </Grid>\n                <Grid item sm/>\n            </Grid>\n        )\n    }\n}\n\nlogin.propTypes = {\n    classes: PropTypes.object.isRequired,\n    loginUser: PropTypes.func.isRequired,\n    user: PropTypes.object.isRequired,\n    UI: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = (state) => ({\n    user: state.user,\n    UI: state.UI\n});\n\nconst mapActionsToProps = {\n    loginUser\n}\n\nexport default connect(mapStateToProps, mapActionsToProps)(withStyles(styles)(login));\n"]},"metadata":{},"sourceType":"module"}