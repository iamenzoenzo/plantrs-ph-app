{"ast":null,"code":"import _classCallCheck from\"/Volumes/External/MasterGithub/plantrs-ph-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Volumes/External/MasterGithub/plantrs-ph-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Volumes/External/MasterGithub/plantrs-ph-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Volumes/External/MasterGithub/plantrs-ph-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import MyButton from'../../util/MyButton';import{Link}from'react-router-dom';// Icons\nimport FavoriteIcon from'@material-ui/icons/Favorite';import FavoriteBorder from'@material-ui/icons/FavoriteBorder';import{connect}from'react-redux';// Redux\nimport{likePlant,unlikePlant}from'../../redux/actions/dataActions';export var LikeButton=/*#__PURE__*/function(_Component){_inherits(LikeButton,_Component);var _super=_createSuper(LikeButton);function LikeButton(){var _this;_classCallCheck(this,LikeButton);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.likedPlant=function(){if(_this.props.user.likes&&_this.props.user.likes.find(function(like){return like.plantId===_this.props.plantId;}))return true;else return false;};_this.likePlant=function(){_this.props.likePlant(_this.props.plantId);};_this.unlikePlant=function(){_this.props.unlikePlant(_this.props.plantId);};return _this;}_createClass(LikeButton,[{key:\"render\",value:function render(){var authenticated=this.props.user.authenticated;var likeButton=!authenticated?/*#__PURE__*/React.createElement(Link,{to:\"/login\"},/*#__PURE__*/React.createElement(MyButton,{tip:\"Like\"},/*#__PURE__*/React.createElement(FavoriteBorder,{color:\"primary\"}))):this.likedPlant()?/*#__PURE__*/React.createElement(MyButton,{tip:\"Unlike\",onClick:this.unlikePlant},/*#__PURE__*/React.createElement(FavoriteIcon,{color:\"primary\"})):/*#__PURE__*/React.createElement(MyButton,{tip:\"Like\",onClick:this.likePlant},/*#__PURE__*/React.createElement(FavoriteBorder,{color:\"primary\"}));return likeButton;}}]);return LikeButton;}(Component);var mapStateToProps=function mapStateToProps(state){return{user:state.user};};var mapActionsToProps={likePlant:likePlant,unlikePlant:unlikePlant};export default connect(mapStateToProps,mapActionsToProps)(LikeButton);","map":{"version":3,"sources":["/Volumes/External/MasterGithub/plantrs-ph-app/src/components/plant/LikeButton.js"],"names":["React","Component","MyButton","Link","FavoriteIcon","FavoriteBorder","connect","likePlant","unlikePlant","LikeButton","likedPlant","props","user","likes","find","like","plantId","authenticated","likeButton","mapStateToProps","state","mapActionsToProps"],"mappings":"goBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,QAAP,KAAqB,qBAArB,CACA,OAASC,IAAT,KAAqB,kBAArB,CAEA;AACA,MAAOC,CAAAA,YAAP,KAAyB,6BAAzB,CACA,MAAOC,CAAAA,cAAP,KAA2B,mCAA3B,CACA,OAASC,OAAT,KAAwB,aAAxB,CAEA;AACA,OAASC,SAAT,CAAoBC,WAApB,KAAuC,iCAAvC,CAEA,UAAaC,CAAAA,UAAb,2UACIC,UADJ,CACiB,UAAM,CACf,GAAG,MAAKC,KAAL,CAAWC,IAAX,CAAgBC,KAAhB,EACC,MAAKF,KAAL,CAAWC,IAAX,CAAgBC,KAAhB,CAAsBC,IAAtB,CACI,SAACC,IAAD,QAAUA,CAAAA,IAAI,CAACC,OAAL,GAAiB,MAAKL,KAAL,CAAWK,OAAtC,EADJ,CADJ,CAKI,MAAO,KAAP,CALJ,IAMK,OAAO,MAAP,CACR,CATL,OAUIT,SAVJ,CAUgB,UAAM,CACd,MAAKI,KAAL,CAAWJ,SAAX,CAAqB,MAAKI,KAAL,CAAWK,OAAhC,EACH,CAZL,OAaIR,WAbJ,CAakB,UAAM,CAChB,MAAKG,KAAL,CAAWH,WAAX,CAAuB,MAAKG,KAAL,CAAWK,OAAlC,EACH,CAfL,6EAgBa,IACGC,CAAAA,aADH,CACqB,KAAKN,KAAL,CAAWC,IADhC,CACGK,aADH,CAGL,GAAMC,CAAAA,UAAU,CAAG,CAACD,aAAD,cACf,oBAAC,IAAD,EAAM,EAAE,CAAC,QAAT,eACI,oBAAC,QAAD,EAAU,GAAG,CAAC,MAAd,eACI,oBAAC,cAAD,EAAgB,KAAK,CAAC,SAAtB,EADJ,CADJ,CADe,CAOf,KAAKP,UAAL,gBACI,oBAAC,QAAD,EAAU,GAAG,CAAC,QAAd,CAAuB,OAAO,CAAE,KAAKF,WAArC,eACI,oBAAC,YAAD,EAAc,KAAK,CAAC,SAApB,EADJ,CADJ,cAKI,oBAAC,QAAD,EAAU,GAAG,CAAC,MAAd,CAAqB,OAAO,CAAE,KAAKD,SAAnC,eACI,oBAAC,cAAD,EAAgB,KAAK,CAAC,SAAtB,EADJ,CAZR,CAiBA,MAAOW,CAAAA,UAAP,CACH,CArCL,wBAAgCjB,SAAhC,EA+CA,GAAMkB,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,KAAD,QAAY,CAChCR,IAAI,CAAEQ,KAAK,CAACR,IADoB,CAAZ,EAAxB,CAIA,GAAMS,CAAAA,iBAAiB,CAAG,CACtBd,SAAS,CAATA,SADsB,CAEtBC,WAAW,CAAXA,WAFsB,CAA1B,CAKA,cAAeF,CAAAA,OAAO,CAACa,eAAD,CAAkBE,iBAAlB,CAAP,CAA4CZ,UAA5C,CAAf","sourcesContent":["import React, { Component } from 'react';\nimport MyButton from '../../util/MyButton';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n// Icons\nimport FavoriteIcon from '@material-ui/icons/Favorite';\nimport FavoriteBorder from '@material-ui/icons/FavoriteBorder';\nimport { connect } from 'react-redux';\n\n// Redux\nimport { likePlant, unlikePlant } from '../../redux/actions/dataActions';\n\nexport class LikeButton extends Component {\n    likedPlant = () => {\n        if(this.props.user.likes && \n            this.props.user.likes.find(\n                (like) => like.plantId === this.props.plantId\n            )\n        )\n            return true;\n        else return false;\n    };\n    likePlant = () => {\n        this.props.likePlant(this.props.plantId);\n    };\n    unlikePlant = () => {\n        this.props.unlikePlant(this.props.plantId);\n    };\n    render() {\n        const { authenticated } = this.props.user;\n\n        const likeButton = !authenticated ? (\n            <Link to=\"/login\">\n                <MyButton tip=\"Like\">\n                    <FavoriteBorder color=\"primary\"/>\n                </MyButton>\n            </Link>\n        ) : (\n            this.likedPlant() ? (\n                <MyButton tip=\"Unlike\" onClick={this.unlikePlant}>\n                    <FavoriteIcon color=\"primary\"/>\n                </MyButton>\n            ) : (\n                <MyButton tip=\"Like\" onClick={this.likePlant}>\n                    <FavoriteBorder color=\"primary\"/>\n                </MyButton>\n            )\n        );\n        return likeButton;\n    }\n}\n\nLikeButton.propTypes = {\n    user: PropTypes.object.isRequired,\n    // planId: PropTypes.string.isRequired,\n    likePlant: PropTypes.func.isRequired,\n    unlikePlant: PropTypes.func.isRequired\n};\n\nconst mapStateToProps = (state) => ({\n    user: state.user\n});\n\nconst mapActionsToProps = {\n    likePlant,\n    unlikePlant\n};\n\nexport default connect(mapStateToProps, mapActionsToProps)(LikeButton);\n"]},"metadata":{},"sourceType":"module"}