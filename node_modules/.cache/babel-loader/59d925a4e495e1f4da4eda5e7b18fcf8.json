{"ast":null,"code":"import _classCallCheck from\"/Volumes/External/MasterGithub/plantrs-ph-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Volumes/External/MasterGithub/plantrs-ph-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Volumes/External/MasterGithub/plantrs-ph-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Volumes/External/MasterGithub/plantrs-ph-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _objectSpread from\"/Volumes/External/MasterGithub/plantrs-ph-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React,{Component,Fragment}from'react';import withStyles from'@material-ui/core/styles/withStyles';import{Link}from'react-router-dom';import dayjs from'dayjs';import EditDetails from'./EditDetails';import MyButton from'../../util/MyButton';import UpouImg from'../../images/upouimg.png';import ProfileSkeleton from'../../util/ProfileSkeleton';// MUI stuff\nimport Button from'@material-ui/core/Button';import Typography from'@material-ui/core/Typography';import MuiLink from'@material-ui/core/Link';import Paper from'@material-ui/core/Paper';// Icons\nimport LocationOn from'@material-ui/icons/LocationOn';import LinkIcon from'@material-ui/icons/Link';import CalendarToday from'@material-ui/icons/CalendarToday';import EditIcon from'@material-ui/icons/Edit';import ExitToApp from'@material-ui/icons/ExitToApp';// Redux stuff\nimport{connect}from'react-redux';import{logoutUser,uploadImage}from'../../redux/actions/userActions';var styles=function styles(theme){return _objectSpread({},theme.spreadThis);};var Profile=/*#__PURE__*/function(_Component){_inherits(Profile,_Component);var _super=_createSuper(Profile);function Profile(){var _this;_classCallCheck(this,Profile);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.handleImageChange=function(event){var image=event.target.files[0];var formData=new FormData();formData.append('image',image,image.name);_this.props.uploadImage(formData);};_this.handleEditPicture=function(){var fileInput=document.getElementById('imageInput');fileInput.click();};_this.handleLogout=function(){_this.props.logoutUser();};return _this;}_createClass(Profile,[{key:\"render\",value:function render(){var _this$props=this.props,classes=_this$props.classes,_this$props$user=_this$props.user,_this$props$user$cred=_this$props$user.credentials,handle=_this$props$user$cred.handle,createDate=_this$props$user$cred.createDate,userImage=_this$props$user$cred.userImage,bio=_this$props$user$cred.bio,website=_this$props$user$cred.website,location=_this$props$user$cred.location,loading=_this$props$user.loading,authenticated=_this$props$user.authenticated;var profileMarkup=!loading?authenticated?/*#__PURE__*/React.createElement(Paper,{className:classes.paper},/*#__PURE__*/React.createElement(\"div\",{className:classes.profile},/*#__PURE__*/React.createElement(\"div\",{className:\"image-wrapper\"},/*#__PURE__*/React.createElement(\"img\",{src:userImage,alt:\"profile\",className:\"profile-image\"}),/*#__PURE__*/React.createElement(\"input\",{type:\"file\",id:\"imageInput\",hidden:\"hidden\",onChange:this.handleImageChange}),/*#__PURE__*/React.createElement(MyButton,{tip:\"Edit profile picture\",onClick:this.handleEditPicture,btnClassName:\"button\"},/*#__PURE__*/React.createElement(EditIcon,{color:\"primary\"}))),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(\"div\",{className:\"profile-details\"},/*#__PURE__*/React.createElement(MuiLink,{component:Link,to:\"/users/\".concat(handle),color:\"primary\",variant:\"h5\"},\"@\",handle),/*#__PURE__*/React.createElement(\"hr\",null),bio&&/*#__PURE__*/React.createElement(Typography,{variant:\"body2\"},bio),/*#__PURE__*/React.createElement(\"hr\",null),location&&/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(LocationOn,{color:\"primary\"}),\" \",/*#__PURE__*/React.createElement(\"span\",null,location),/*#__PURE__*/React.createElement(\"hr\",null)),website&&/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(LinkIcon,{color:\"primary\"}),/*#__PURE__*/React.createElement(\"a\",{href:website,target:\"_blank\",rel:\"noopener noreferrer\"},' ',website),/*#__PURE__*/React.createElement(\"hr\",null)),/*#__PURE__*/React.createElement(CalendarToday,{color:\"primary\"}),' ',/*#__PURE__*/React.createElement(\"span\",null,\"Joined \",dayjs(createDate).format('MMM DD YYYY'))),/*#__PURE__*/React.createElement(MyButton,{tip:\"Logout\",onClick:this.handleLogout},/*#__PURE__*/React.createElement(ExitToApp,{color:\"primary\"})),/*#__PURE__*/React.createElement(EditDetails,null))):/*#__PURE__*/React.createElement(Paper,{className:classes.paper},/*#__PURE__*/React.createElement(\"div\",{className:classes.profile},/*#__PURE__*/React.createElement(\"div\",{className:\"image-wrapper\"},/*#__PURE__*/React.createElement(\"img\",{src:UpouImg,width:\"130\",height:\"130\",alt:\"profile\",className:\"profile-image\"})),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(Typography,{variant:\"body2\",align:\"center\"},\"Plantrs app is a social media-enabled botanical repository.  \"),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(Typography,{variant:\"body2\",align:\"center\"},\"User profile is not displayed, please login.\"),/*#__PURE__*/React.createElement(\"div\",{className:classes.buttons},/*#__PURE__*/React.createElement(Button,{variant:\"contained\",color:\"primary\",component:Link,to:\"/login\"},\"Login\"),/*#__PURE__*/React.createElement(Button,{variant:\"contained\",color:\"secondary\",component:Link,to:\"/signup\"},\"Signup\")),/*#__PURE__*/React.createElement(Typography,{variant:\"body2\",align:\"center\"},\"We value your feedback. You may get in touch with our admin by sending an email to: mailto:admin@plantrs.tech?subject=Inquiry\"))):/*#__PURE__*/React.createElement(ProfileSkeleton,null);return profileMarkup;}}]);return Profile;}(Component);var mapStateToProps=function mapStateToProps(state){return{user:state.user};};var mapActionsToProps={logoutUser:logoutUser,uploadImage:uploadImage};export default connect(mapStateToProps,mapActionsToProps)(withStyles(styles)(Profile));","map":{"version":3,"sources":["/Volumes/External/MasterGithub/plantrs-ph-app/src/components/profile/Profile.js"],"names":["React","Component","Fragment","withStyles","Link","dayjs","EditDetails","MyButton","UpouImg","ProfileSkeleton","Button","Typography","MuiLink","Paper","LocationOn","LinkIcon","CalendarToday","EditIcon","ExitToApp","connect","logoutUser","uploadImage","styles","theme","spreadThis","Profile","handleImageChange","event","image","target","files","formData","FormData","append","name","props","handleEditPicture","fileInput","document","getElementById","click","handleLogout","classes","user","credentials","handle","createDate","userImage","bio","website","location","loading","authenticated","profileMarkup","paper","profile","format","buttons","mapStateToProps","state","mapActionsToProps"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport { Link } from 'react-router-dom';\nimport dayjs from 'dayjs';\nimport EditDetails from './EditDetails';\nimport MyButton from '../../util/MyButton';\nimport UpouImg from '../../images/upouimg.png';\nimport ProfileSkeleton from '../../util/ProfileSkeleton';\n\n// MUI stuff\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport MuiLink from '@material-ui/core/Link';\nimport Paper from '@material-ui/core/Paper';\n\n// Icons\nimport LocationOn from '@material-ui/icons/LocationOn';\nimport LinkIcon from '@material-ui/icons/Link';\nimport CalendarToday from '@material-ui/icons/CalendarToday';\nimport EditIcon from '@material-ui/icons/Edit';\nimport ExitToApp from '@material-ui/icons/ExitToApp';\n\n// Redux stuff\nimport { connect } from 'react-redux';\nimport { logoutUser, uploadImage } from '../../redux/actions/userActions';\n\nconst styles = (theme) => ({\n    ...theme.spreadThis\n  });\n\nclass Profile extends Component {\n  handleImageChange = (event) => {\n    const image = event.target.files[0];\n    const formData = new FormData();\n    formData.append('image', image, image.name);\n    this.props.uploadImage(formData);\n  };\n  handleEditPicture =() => {\n    const fileInput = document.getElementById('imageInput');\n    fileInput.click();\n  };\n  handleLogout = () => {\n    this.props.logoutUser();\n  }\n  render() {\n    const {\n      classes,\n      user: {\n        credentials: { handle, createDate, userImage, bio, website, location },\n        loading,\n        authenticated\n      }\n    } = this.props;\n\n        let profileMarkup = !loading ? (\n          authenticated ? (\n            <Paper className={classes.paper}>\n                <div className={classes.profile}>\n                    <div className=\"image-wrapper\">\n                        <img src={userImage} alt=\"profile\" className=\"profile-image\" />\n                        <input \n                          type=\"file\" \n                          id=\"imageInput\" \n                          hidden=\"hidden\"\n                          onChange={this.handleImageChange}\n                        />\n                        <MyButton tip=\"Edit profile picture\" onClick={this.handleEditPicture} btnClassName=\"button\">\n                          <EditIcon color=\"primary\"/>\n                        </MyButton>\n                    </div>\n                    <hr/>\n                    <div className=\"profile-details\">\n                        <MuiLink component={Link} to={`/users/${handle}`} color=\"primary\" variant=\"h5\">\n                            @{handle}\n                        </MuiLink>\n                        <hr/>\n                        {bio && <Typography variant=\"body2\">{bio}</Typography>}\n                        <hr/>\n                        {location && (\n                            <Fragment>\n                                <LocationOn color=\"primary\"/> <span>{location}</span>\n                                <hr/>\n                            </Fragment>\n                        )}\n                        {website && (\n                            <Fragment>\n                                <LinkIcon color=\"primary\"/>\n                                <a href={website} target=\"_blank\" rel=\"noopener noreferrer\">\n                                    {' '}{website}\n                                </a>\n                                <hr/>\n                            </Fragment>\n                        )}\n                        <CalendarToday color=\"primary\"/>{' '}\n                        <span>Joined {dayjs(createDate).format('MMM DD YYYY')}</span>\n                    </div>\n                    <MyButton tip=\"Logout\" onClick={this.handleLogout}>\n                      <ExitToApp color=\"primary\"/>\n                    </MyButton>\n                    <EditDetails/>\n                </div>\n            </Paper>\n        ) : (\n            <Paper className={classes.paper}>\n              <div className={classes.profile}>\n                <div className=\"image-wrapper\">\n                    <img src={UpouImg} width=\"130\" height=\"130\" alt=\"profile\" className=\"profile-image\" />\n                </div>\n                <hr/>\n                <Typography variant=\"body2\" align=\"center\">\n                      Plantrs app is a social media-enabled botanical repository.  </Typography>\n                <hr/>\n                <Typography variant=\"body2\" align=\"center\">\n                      User profile is not displayed, please login.</Typography>\n                <div className={classes.buttons}>\n                      <Button variant=\"contained\" color=\"primary\" component={Link} to=\"/login\">\n                          Login\n                      </Button>\n                      <Button variant=\"contained\" color=\"secondary\" component={Link} to=\"/signup\">\n                          Signup\n                      </Button>\n                  </div>\n                  <Typography variant=\"body2\" align=\"center\">\n                      We value your feedback. You may get in touch with our admin by sending an email to: mailto:admin@plantrs.tech?subject=Inquiry\n                  </Typography>\n              </div>\n                \n            </Paper>\n        ) ) : (\n            <ProfileSkeleton/>\n        );\n\n        return profileMarkup;\n    }\n}\n\nconst mapStateToProps = (state) => ({\n    user: state.user\n});\n\nconst mapActionsToProps = { logoutUser, uploadImage };\n\nProfile.propTypes = {\n    logoutUser: PropTypes.func.isRequired,\n    uploadImage: PropTypes.func.isRequired,\n    user: PropTypes.object.isRequired,\n    classes: PropTypes.object.isRequired\n};\n\nexport default connect(mapStateToProps, mapActionsToProps )(withStyles(styles)(Profile));\n"]},"metadata":{},"sourceType":"module"}