{"ast":null,"code":"var _jsxFileName = \"/Volumes/External/MasterGithub/plantrs-ph-app/src/components/plant/PlantDialog.js\";\nimport React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport MyButton from '../../util/MyButton';\nimport dayjs from 'dayjs';\nimport LikeButton from './LikeButton';\nimport Comments from './Comments';\nimport CommentForm from './CommentForm';\nimport { Link } from 'react-router-dom'; // MUI \n\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography'; // Icons\n\nimport CloseIcon from '@material-ui/icons/Close';\nimport UnfoldMore from '@material-ui/icons/UnfoldMore';\nimport ChatIcon from '@material-ui/icons/Chat'; // Redux stuff\n\nimport { connect } from 'react-redux';\nimport { getPlant, clearErrors } from '../../redux/actions/dataActions';\n\nconst styles = theme => ({ ...theme.spreadThis,\n  profileImage: {\n    maxWidth: 50,\n    height: 50,\n    borderRadius: '50%',\n    objectFit: 'cover'\n  },\n  plantImage: {\n    maxWidth: '100%',\n    height: 300,\n    borderRadius: '5%',\n    objectFit: 'cover'\n  },\n  dialogContent: {\n    padding: 20\n  },\n  closeButton: {\n    position: 'absolute',\n    right: '0%'\n  },\n  expandButton: {\n    position: 'absolute',\n    right: '0%'\n  },\n  spinnerDiv: {\n    textAlign: 'center',\n    marginTop: 50,\n    marginBottom: 50\n  },\n  collab: {\n    fontSize: 13\n  }\n});\n\nclass PlantDialog extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      open: false,\n      oldPath: '',\n      newPath: ''\n    };\n\n    this.handleOpen = () => {\n      let oldPath = window.location.pathname;\n      const {\n        userHandle,\n        plantId\n      } = this.props;\n      const newPath = `/users/${userHandle}/plant/${plantId}`;\n      if (oldPath === newPath) oldPath = `/users/${userHandle}`;\n      window.history.pushState(null, null, newPath);\n      this.setState({\n        open: true,\n        oldPath,\n        newPath\n      });\n      this.props.getPlant(this.props.plantId);\n    };\n\n    this.handleClose = () => {\n      window.history.pushState(null, null, this.state.oldPath);\n      this.setState({\n        open: false\n      });\n      this.props.clearErrors();\n    };\n  }\n\n  componentDidMount() {\n    if (this.props.openDialog) {\n      this.handleOpen();\n    }\n  }\n\n  render() {\n    const {\n      classes,\n      plant: {\n        plantId,\n        plantName,\n        createDate,\n        kingdom,\n        phylum,\n        klass,\n        family,\n        urder,\n        genus,\n        species,\n        plantImg,\n        caption,\n        userHandle,\n        userImage,\n        likeCount,\n        commentCount,\n        comments\n      },\n      UI: {\n        loading\n      }\n    } = this.props;\n    const dialogMarkup = loading ? /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.spinnerDiv,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(CircularProgress, {\n      size: 150,\n      thickness: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 17\n      }\n    })) : /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      spacing: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      sm: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: plantImg,\n      alt: plantName,\n      className: classes.plantImage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      sm: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"hr\", {\n      className: classes.invisibleSeparator,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(Typography, {\n      variant: \"h5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 21\n      }\n    }, plantName), /*#__PURE__*/React.createElement(Typography, {\n      variant: \"body1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 21\n      }\n    }, caption), /*#__PURE__*/React.createElement(\"hr\", {\n      className: classes.visibleSeparator,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(Typography, {\n      variant: \"body2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 25\n      }\n    }, \"Scientific Classification\")), /*#__PURE__*/React.createElement(Typography, {\n      variant: \"body2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 21\n      }\n    }, \"Kingdom: \", kingdom), /*#__PURE__*/React.createElement(Typography, {\n      variant: \"body2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 21\n      }\n    }, \"Phylum: \", phylum), /*#__PURE__*/React.createElement(Typography, {\n      variant: \"body2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 21\n      }\n    }, \"Class: \", klass), /*#__PURE__*/React.createElement(Typography, {\n      variant: \"body2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 21\n      }\n    }, \"Family: \", family), /*#__PURE__*/React.createElement(Typography, {\n      variant: \"body2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 21\n      }\n    }, \"Order: \", urder), /*#__PURE__*/React.createElement(Typography, {\n      variant: \"body2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 21\n      }\n    }, \"Genus: \", genus), /*#__PURE__*/React.createElement(Typography, {\n      variant: \"body2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 21\n      }\n    }, \"Species: \", species), /*#__PURE__*/React.createElement(\"hr\", {\n      className: classes.visibleSeparator,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(LikeButton, {\n      plantId: plantId,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: classes.collab,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 21\n      }\n    }, likeCount, \" Likes\"), /*#__PURE__*/React.createElement(MyButton, {\n      tip: \"Comments\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(ChatIcon, {\n      color: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"span\", {\n      className: classes.collab,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 21\n      }\n    }, commentCount, \" Comments\")), /*#__PURE__*/React.createElement(CommentForm, {\n      plantId: plantId,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Comments, {\n      comments: comments,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 17\n      }\n    }));\n    return /*#__PURE__*/React.createElement(Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(MyButton, {\n      onClick: this.handleOpen,\n      tip: \"Expand plant\",\n      tipClassName: classes.expandButton,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(UnfoldMore, {\n      color: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(Dialog, {\n      open: this.state.open,\n      onClose: this.handleClose,\n      fullWidth: true,\n      maxWidth: \"sm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(MyButton, {\n      tip: \"Close\",\n      onClick: this.handleClose,\n      tipClassName: classes.closeButton,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(CloseIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(DialogTitle, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: userImage,\n      alt: userHandle,\n      className: classes.profileImage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(Typography, {\n      component: Link,\n      color: \"primary\",\n      variant: \"h5\",\n      to: `/users/${userHandle}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 25\n      }\n    }, \"@\", userHandle), /*#__PURE__*/React.createElement(\"hr\", {\n      className: classes.invisibleSeparator,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(Typography, {\n      variant: \"body2\",\n      color: \"textSecondary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 25\n      }\n    }, dayjs(createDate).fromNow())), /*#__PURE__*/React.createElement(DialogContent, {\n      className: classes.dialogContent,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 21\n      }\n    }, dialogMarkup)));\n  }\n\n}\n\n;\nPlantDialog.propTypes = {\n  clearErrors: PropTypes.func.isRequired,\n  getPlant: PropTypes.func.isRequired,\n  plantId: PropTypes.string.isRequired,\n  userHandle: PropTypes.string.isRequired,\n  plant: PropTypes.object.isRequired,\n  UI: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n  plant: state.data.plant,\n  UI: state.UI\n});\n\nconst mapActionsToProps = {\n  getPlant,\n  clearErrors\n};\nexport default connect(mapStateToProps, mapActionsToProps)(withStyles(styles)(PlantDialog));","map":{"version":3,"sources":["/Volumes/External/MasterGithub/plantrs-ph-app/src/components/plant/PlantDialog.js"],"names":["React","Component","Fragment","PropTypes","withStyles","MyButton","dayjs","LikeButton","Comments","CommentForm","Link","Dialog","DialogContent","DialogTitle","CircularProgress","Grid","Typography","CloseIcon","UnfoldMore","ChatIcon","connect","getPlant","clearErrors","styles","theme","spreadThis","profileImage","maxWidth","height","borderRadius","objectFit","plantImage","dialogContent","padding","closeButton","position","right","expandButton","spinnerDiv","textAlign","marginTop","marginBottom","collab","fontSize","PlantDialog","state","open","oldPath","newPath","handleOpen","window","location","pathname","userHandle","plantId","props","history","pushState","setState","handleClose","componentDidMount","openDialog","render","classes","plant","plantName","createDate","kingdom","phylum","klass","family","urder","genus","species","plantImg","caption","userImage","likeCount","commentCount","comments","UI","loading","dialogMarkup","invisibleSeparator","visibleSeparator","fromNow","propTypes","func","isRequired","string","object","mapStateToProps","data","mapActionsToProps"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport MyButton from '../../util/MyButton';\nimport dayjs from 'dayjs';\nimport LikeButton from './LikeButton';\nimport Comments from './Comments';\nimport CommentForm from './CommentForm';\nimport { Link } from 'react-router-dom';\n// MUI \nimport Dialog from '@material-ui/core/Dialog';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\n// Icons\nimport CloseIcon from '@material-ui/icons/Close';\nimport UnfoldMore from '@material-ui/icons/UnfoldMore';\nimport ChatIcon from '@material-ui/icons/Chat';\n// Redux stuff\nimport { connect } from 'react-redux';\nimport { getPlant, clearErrors } from '../../redux/actions/dataActions';\n\n\nconst styles = (theme) => ({\n    ...theme.spreadThis,\n    profileImage: {\n        maxWidth: 50,\n        height: 50,\n        borderRadius: '50%',\n        objectFit: 'cover'\n    },\n    plantImage: {\n        maxWidth: '100%',\n        height: 300,\n        borderRadius: '5%',\n        objectFit: 'cover'\n    },\n    dialogContent: {\n        padding: 20\n    },\n    closeButton: {\n        position: 'absolute',\n        right: '0%'\n    },\n    expandButton: {\n        position: 'absolute',\n        right: '0%'\n    },\n    spinnerDiv: {\n        textAlign: 'center',\n        marginTop: 50,\n        marginBottom: 50\n    },\n    collab: {\n        fontSize: 13\n    }\n})\n\nclass PlantDialog extends Component{\n    state = {\n        open: false,\n        oldPath: '',\n        newPath: ''\n    };\n    componentDidMount(){\n        if(this.props.openDialog){\n            this.handleOpen();\n        }\n    };\n    handleOpen = () => {\n        let oldPath = window.location.pathname;\n\n        const { userHandle, plantId } = this.props;\n        const newPath = `/users/${userHandle}/plant/${plantId}`;\n\n        if (oldPath === newPath) oldPath = `/users/${userHandle}`;\n\n        window.history.pushState(null, null, newPath);\n\n        this.setState({ open: true, oldPath, newPath });\n        this.props.getPlant(this.props.plantId);\n    };\n    handleClose = () => {\n        window.history.pushState(null, null, this.state.oldPath);\n        this.setState({ open: false });\n        this.props.clearErrors();\n    };\n    render(){\n        const { \n            classes, \n            plant: { \n                plantId, \n                plantName, \n                createDate,\n                kingdom, \n                phylum, \n                klass, \n                family, \n                urder, \n                genus, \n                species, \n                plantImg, \n                caption, \n                userHandle, \n                userImage, \n                likeCount, \n                commentCount,\n                comments \n            }, \n            UI: { loading } \n        } = this.props;\n\n        const dialogMarkup = loading ? (\n            <div className={classes.spinnerDiv} >\n                <CircularProgress size={150} thickness={2} />\n            </div>\n        ) : (\n            <Grid container spacing={2}>\n                <Grid item sm={12}>\n                    <img src={plantImg} alt={plantName} className={classes.plantImage}/>\n                </Grid>\n                <Grid item sm={12}>\n                    <hr className={classes.invisibleSeparator}/>\n                    <Typography variant=\"h5\">\n                        {plantName}\n                    </Typography>\n                    <Typography variant=\"body1\">\n                        {caption}\n                    </Typography>\n                    <hr className={classes.visibleSeparator}/>\n                    <Typography variant=\"body2\">\n                        <strong>Scientific Classification</strong>\n                    </Typography>\n                    <Typography variant=\"body2\">\n                        Kingdom: {kingdom}\n                    </Typography>\n                    <Typography variant=\"body2\">\n                        Phylum: {phylum}\n                    </Typography>\n                    <Typography variant=\"body2\">\n                        Class: {klass}\n                    </Typography>\n                    <Typography variant=\"body2\">\n                        Family: {family}\n                    </Typography>\n                    <Typography variant=\"body2\">\n                        Order: {urder}\n                    </Typography>\n                    <Typography variant=\"body2\">\n                        Genus: {genus}\n                    </Typography>\n                    <Typography variant=\"body2\">\n                        Species: {species}\n                    </Typography>\n                    <hr className={classes.visibleSeparator}/>\n                    <LikeButton plantId={plantId}/>\n                    <span className={classes.collab}>{likeCount} Likes</span>\n                    <MyButton tip=\"Comments\">\n                        <ChatIcon color=\"primary\"/>\n                    </MyButton>\n                    <span className={classes.collab}>{commentCount} Comments</span>\n                </Grid>\n                <CommentForm plantId={plantId} />\n                <Comments comments={comments}/>\n            </Grid>\n        )\n\n        return (\n            <Fragment>\n                <MyButton onClick={this.handleOpen} tip=\"Expand plant\" tipClassName={classes.expandButton}>\n                    <UnfoldMore color=\"primary\"/>\n                </MyButton>\n                <Dialog\n                open={this.state.open}\n                onClose={this.handleClose}\n                fullWidth\n                maxWidth=\"sm\"\n                >\n                    <MyButton\n                        tip=\"Close\"\n                        onClick={this.handleClose}\n                        tipClassName={classes.closeButton}\n                    >\n                        <CloseIcon/>\n                    </MyButton>\n                    <DialogTitle >\n                    <img src={userImage} alt={userHandle} className={classes.profileImage}/>\n                        <Typography\n                            component={Link}\n                            color=\"primary\"\n                            variant=\"h5\"\n                            to={`/users/${userHandle}`}\n                        >\n                            @{userHandle}\n                        </Typography>\n                        <hr className={classes.invisibleSeparator}/>\n                        <Typography variant=\"body2\" color=\"textSecondary\">\n                            {dayjs(createDate).fromNow()}\n                        </Typography>\n                    </DialogTitle>\n                    \n                    <DialogContent className={classes.dialogContent}>\n                        {dialogMarkup}\n                    </DialogContent>\n                </Dialog>\n            </Fragment>\n\n        )\n    }\n\n};\n\nPlantDialog.propTypes = {\n    clearErrors: PropTypes.func.isRequired,\n    getPlant: PropTypes.func.isRequired,\n    plantId: PropTypes.string.isRequired,\n    userHandle: PropTypes.string.isRequired,\n    plant: PropTypes.object.isRequired,\n    UI: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n    plant: state.data.plant,\n    UI: state.UI\n});\n\nconst mapActionsToProps = {\n    getPlant,\n    clearErrors\n};\n\nexport default connect(mapStateToProps, mapActionsToProps)(withStyles(styles)(PlantDialog))"]},"metadata":{},"sourceType":"module"}