{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Volumes/extra/is295/plantrs-ph-app/src/components/Profile.js\";\nimport React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport { Link } from 'react-router-dom';\nimport dayjs from 'dayjs';\nimport EditDetails from './EditDetails';\nimport UpouImg from '../images/upouimg.png'; // MUI stuff\n\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport MuiLink from '@material-ui/core/Link';\nimport Paper from '@material-ui/core/Paper';\nimport IconButton from '@material-ui/core/IconButton';\nimport Tooltip from '@material-ui/core/Tooltip'; // Icons\n\nimport LocationOn from '@material-ui/icons/LocationOn';\nimport LinkIcon from '@material-ui/icons/Link';\nimport CalendarToday from '@material-ui/icons/CalendarToday';\nimport EditIcon from '@material-ui/icons/Edit';\nimport ExitToApp from '@material-ui/icons/ExitToApp'; // Redux stuff\n\nimport { connect } from 'react-redux';\nimport { logoutUser, uploadImage } from '../redux/actions/userActions';\n\nconst styles = theme => ({\n  paper: {\n    padding: 20\n  },\n  profile: {\n    '& .image-wrapper': {\n      textAlign: 'center',\n      position: 'relative',\n      '& button': {\n        position: 'absolute',\n        top: '80%',\n        left: '70%'\n      }\n    },\n    '& .profile-image': {\n      width: 200,\n      height: 200,\n      objectFit: 'cover',\n      maxWidth: '100%',\n      borderRadius: '50%'\n    },\n    '& .profile-details': {\n      textAlign: 'center',\n      '& span, svg': {\n        verticalAlign: 'middle'\n      },\n      '& a': {\n        color: theme.palette.primary.main\n      }\n    },\n    '& hr': {\n      border: 'none',\n      margin: '0 0 10px 0'\n    },\n    '& svg.button': {\n      '&:hover': {\n        cursor: 'pointer'\n      }\n    }\n  },\n  buttons: {\n    textAlign: 'center',\n    '& a': {\n      margin: '20px 10px'\n    }\n  }\n});\n\nclass Profile extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.handleImageChange = event => {\n      const image = event.target.files[0];\n      const formData = new FormData();\n      formData.append('image', image, image.name);\n      this.props.uploadImage(formData);\n    };\n\n    this.handleEditPicture = () => {\n      const fileInput = document.getElementById('imageInput');\n      fileInput.click();\n    };\n\n    this.handleLogout = () => {\n      this.props.logoutUser();\n    };\n  }\n\n  render() {\n    const {\n      classes,\n      user: {\n        credentials: {\n          handle,\n          createDate,\n          userImage,\n          bio,\n          website,\n          location\n        },\n        loading,\n        authenticated\n      }\n    } = this.props;\n    let profileMarkup = !loading ? authenticated ? /*#__PURE__*/_jsxDEV(Paper, {\n      className: classes.paper,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.profile,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"image-wrapper\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: userImage,\n            alt: \"profile\",\n            className: \"profile-image\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            id: \"imageInput\",\n            hidden: \"hidden\",\n            onChange: this.handleImageChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n            title: \"Edit profile picture\",\n            placement: \"top\",\n            children: /*#__PURE__*/_jsxDEV(IconButton, {\n              onClick: this.handleEditPicture,\n              className: \"button\",\n              children: /*#__PURE__*/_jsxDEV(EditIcon, {\n                color: \"primary\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 114,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 27\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"profile-details\",\n          children: [/*#__PURE__*/_jsxDEV(MuiLink, {\n            component: Link,\n            to: `/users/${handle}`,\n            color: \"primary\",\n            variant: \"h5\",\n            children: [\"@\", handle]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 25\n          }, this), bio && /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            children: bio\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 25\n          }, this), location && /*#__PURE__*/_jsxDEV(Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(LocationOn, {\n              color: \"primary\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 33\n            }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n              children: location\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 63\n            }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 29\n          }, this), website && /*#__PURE__*/_jsxDEV(Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(LinkIcon, {\n              color: \"primary\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              href: website,\n              target: \"_blank\",\n              rel: \"noopener noreferrer\",\n              children: [' ', website]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(CalendarToday, {\n            color: \"primary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 25\n          }, this), ' ', /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"Joined \", dayjs(createDate).format('MMM DD YYYY')]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n          title: \"Logout\",\n          placement: \"top\",\n          children: /*#__PURE__*/_jsxDEV(IconButton, {\n            onClick: this.handleLogout,\n            children: /*#__PURE__*/_jsxDEV(ExitToApp, {\n              color: \"primary\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 27\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 23\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(EditDetails, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }, this) : /*#__PURE__*/_jsxDEV(Paper, {\n      className: classes.paper,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.profile,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"image-wrapper\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: UpouImg,\n            width: \"130\",\n            height: \"130\",\n            alt: \"profile\",\n            className: \"profile-image\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body2\",\n          align: \"center\",\n          children: \"Plantrs app is a social media-enabled botanical repository. This project is submitted to the Faculty of Information and Communication Studies in partial fulfillment of the requirements for the degree Master of Information Systems at the University of the Philippines - Open University, Los Ba\\xF1os, Laguna. \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body2\",\n          align: \"center\",\n          children: \"User profile is not displayed, please login.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.buttons,\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            color: \"primary\",\n            component: Link,\n            to: \"/login\",\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            color: \"secondary\",\n            component: Link,\n            to: \"/signup\",\n            children: \"Signup\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 23\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 15\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 13\n    }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 16\n    }, this);\n    return profileMarkup;\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  user: state.user\n});\n\nconst mapActionsToProps = {\n  logoutUser,\n  uploadImage\n};\nProfile.propTypes = {\n  logoutUser: PropTypes.func.isRequired,\n  uploadImage: PropTypes.func.isRequired,\n  user: PropTypes.object.isRequired,\n  classes: PropTypes.object.isRequired\n};\nexport default connect(mapStateToProps, mapActionsToProps)(withStyles(styles)(Profile));","map":{"version":3,"sources":["/Volumes/extra/is295/plantrs-ph-app/src/components/Profile.js"],"names":["React","Component","Fragment","PropTypes","withStyles","Link","dayjs","EditDetails","UpouImg","Button","Typography","MuiLink","Paper","IconButton","Tooltip","LocationOn","LinkIcon","CalendarToday","EditIcon","ExitToApp","connect","logoutUser","uploadImage","styles","theme","paper","padding","profile","textAlign","position","top","left","width","height","objectFit","maxWidth","borderRadius","verticalAlign","color","palette","primary","main","border","margin","cursor","buttons","Profile","handleImageChange","event","image","target","files","formData","FormData","append","name","props","handleEditPicture","fileInput","document","getElementById","click","handleLogout","render","classes","user","credentials","handle","createDate","userImage","bio","website","location","loading","authenticated","profileMarkup","format","mapStateToProps","state","mapActionsToProps","propTypes","func","isRequired","object"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,UAAP,MAAuB,qCAAvB;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,OAAP,MAAoB,uBAApB,C,CAEA;;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,OAAP,MAAoB,wBAApB;AACA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,OAAP,MAAoB,2BAApB,C,CAEA;;AACA,OAAOC,UAAP,MAAuB,+BAAvB;AACA,OAAOC,QAAP,MAAqB,yBAArB;AACA,OAAOC,aAAP,MAA0B,kCAA1B;AACA,OAAOC,QAAP,MAAqB,yBAArB;AACA,OAAOC,SAAP,MAAsB,8BAAtB,C,CAEA;;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,UAAT,EAAqBC,WAArB,QAAwC,8BAAxC;;AAEA,MAAMC,MAAM,GAAIC,KAAD,KAAY;AACvBC,EAAAA,KAAK,EAAE;AACLC,IAAAA,OAAO,EAAE;AADJ,GADgB;AAIvBC,EAAAA,OAAO,EAAE;AACP,wBAAoB;AAClBC,MAAAA,SAAS,EAAE,QADO;AAElBC,MAAAA,QAAQ,EAAE,UAFQ;AAGlB,kBAAY;AACVA,QAAAA,QAAQ,EAAE,UADA;AAEVC,QAAAA,GAAG,EAAE,KAFK;AAGVC,QAAAA,IAAI,EAAE;AAHI;AAHM,KADb;AAUP,wBAAoB;AAClBC,MAAAA,KAAK,EAAE,GADW;AAElBC,MAAAA,MAAM,EAAE,GAFU;AAGlBC,MAAAA,SAAS,EAAE,OAHO;AAIlBC,MAAAA,QAAQ,EAAE,MAJQ;AAKlBC,MAAAA,YAAY,EAAE;AALI,KAVb;AAiBP,0BAAsB;AACpBR,MAAAA,SAAS,EAAE,QADS;AAEpB,qBAAe;AACbS,QAAAA,aAAa,EAAE;AADF,OAFK;AAKpB,aAAO;AACLC,QAAAA,KAAK,EAAEd,KAAK,CAACe,OAAN,CAAcC,OAAd,CAAsBC;AADxB;AALa,KAjBf;AA0BP,YAAQ;AACNC,MAAAA,MAAM,EAAE,MADF;AAENC,MAAAA,MAAM,EAAE;AAFF,KA1BD;AA8BP,oBAAgB;AACd,iBAAW;AACTC,QAAAA,MAAM,EAAE;AADC;AADG;AA9BT,GAJc;AAwCvBC,EAAAA,OAAO,EAAE;AACPjB,IAAAA,SAAS,EAAE,QADJ;AAEP,WAAO;AACLe,MAAAA,MAAM,EAAE;AADH;AAFA;AAxCc,CAAZ,CAAf;;AAgDA,MAAMG,OAAN,SAAsB7C,SAAtB,CAAgC;AAAA;AAAA;;AAAA,SAC9B8C,iBAD8B,GACTC,KAAD,IAAW;AAC7B,YAAMC,KAAK,GAAGD,KAAK,CAACE,MAAN,CAAaC,KAAb,CAAmB,CAAnB,CAAd;AACA,YAAMC,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;AACAD,MAAAA,QAAQ,CAACE,MAAT,CAAgB,OAAhB,EAAyBL,KAAzB,EAAgCA,KAAK,CAACM,IAAtC;AACA,WAAKC,KAAL,CAAWlC,WAAX,CAAuB8B,QAAvB;AACD,KAN6B;;AAAA,SAO9BK,iBAP8B,GAOX,MAAM;AACvB,YAAMC,SAAS,GAAGC,QAAQ,CAACC,cAAT,CAAwB,YAAxB,CAAlB;AACAF,MAAAA,SAAS,CAACG,KAAV;AACD,KAV6B;;AAAA,SAW9BC,YAX8B,GAWf,MAAM;AACnB,WAAKN,KAAL,CAAWnC,UAAX;AACD,KAb6B;AAAA;;AAc9B0C,EAAAA,MAAM,GAAG;AACP,UAAM;AACJC,MAAAA,OADI;AAEJC,MAAAA,IAAI,EAAE;AACJC,QAAAA,WAAW,EAAE;AAAEC,UAAAA,MAAF;AAAUC,UAAAA,UAAV;AAAsBC,UAAAA,SAAtB;AAAiCC,UAAAA,GAAjC;AAAsCC,UAAAA,OAAtC;AAA+CC,UAAAA;AAA/C,SADT;AAEJC,QAAAA,OAFI;AAGJC,QAAAA;AAHI;AAFF,QAOF,KAAKlB,KAPT;AASI,QAAImB,aAAa,GAAG,CAACF,OAAD,GAClBC,aAAa,gBACX,QAAC,KAAD;AAAO,MAAA,SAAS,EAAEV,OAAO,CAACvC,KAA1B;AAAA,6BACI;AAAK,QAAA,SAAS,EAAEuC,OAAO,CAACrC,OAAxB;AAAA,gCACI;AAAK,UAAA,SAAS,EAAC,eAAf;AAAA,kCACI;AAAK,YAAA,GAAG,EAAE0C,SAAV;AAAqB,YAAA,GAAG,EAAC,SAAzB;AAAmC,YAAA,SAAS,EAAC;AAA7C;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI;AACE,YAAA,IAAI,EAAC,MADP;AAEE,YAAA,EAAE,EAAC,YAFL;AAGE,YAAA,MAAM,EAAC,QAHT;AAIE,YAAA,QAAQ,EAAE,KAAKtB;AAJjB;AAAA;AAAA;AAAA;AAAA,kBAFJ,eAQI,QAAC,OAAD;AAAS,YAAA,KAAK,EAAC,sBAAf;AAAsC,YAAA,SAAS,EAAC,KAAhD;AAAA,mCACE,QAAC,UAAD;AAAY,cAAA,OAAO,EAAE,KAAKU,iBAA1B;AAA6C,cAAA,SAAS,EAAC,QAAvD;AAAA,qCACE,QAAC,QAAD;AAAU,gBAAA,KAAK,EAAC;AAAhB;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBARJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAeI;AAAA;AAAA;AAAA;AAAA,gBAfJ,eAgBI;AAAK,UAAA,SAAS,EAAC,iBAAf;AAAA,kCACI,QAAC,OAAD;AAAS,YAAA,SAAS,EAAEpD,IAApB;AAA0B,YAAA,EAAE,EAAG,UAAS8D,MAAO,EAA/C;AAAkD,YAAA,KAAK,EAAC,SAAxD;AAAkE,YAAA,OAAO,EAAC,IAA1E;AAAA,4BACMA,MADN;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAII;AAAA;AAAA;AAAA;AAAA,kBAJJ,EAKKG,GAAG,iBAAI,QAAC,UAAD;AAAY,YAAA,OAAO,EAAC,OAApB;AAAA,sBAA6BA;AAA7B;AAAA;AAAA;AAAA;AAAA,kBALZ,eAMI;AAAA;AAAA;AAAA;AAAA,kBANJ,EAOKE,QAAQ,iBACL,QAAC,QAAD;AAAA,oCACI,QAAC,UAAD;AAAY,cAAA,KAAK,EAAC;AAAlB;AAAA;AAAA;AAAA;AAAA,oBADJ,oBACkC;AAAA,wBAAOA;AAAP;AAAA;AAAA;AAAA;AAAA,oBADlC,eAEI;AAAA;AAAA;AAAA;AAAA,oBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,kBARR,EAaKD,OAAO,iBACJ,QAAC,QAAD;AAAA,oCACI,QAAC,QAAD;AAAU,cAAA,KAAK,EAAC;AAAhB;AAAA;AAAA;AAAA;AAAA,oBADJ,eAEI;AAAG,cAAA,IAAI,EAAEA,OAAT;AAAkB,cAAA,MAAM,EAAC,QAAzB;AAAkC,cAAA,GAAG,EAAC,qBAAtC;AAAA,yBACK,GADL,EACUA,OADV;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFJ,eAKI;AAAA;AAAA;AAAA;AAAA,oBALJ;AAAA;AAAA;AAAA;AAAA;AAAA,kBAdR,eAsBI,QAAC,aAAD;AAAe,YAAA,KAAK,EAAC;AAArB;AAAA;AAAA;AAAA;AAAA,kBAtBJ,EAsBqC,GAtBrC,eAuBI;AAAA,kCAAcjE,KAAK,CAAC8D,UAAD,CAAL,CAAkBQ,MAAlB,CAAyB,aAAzB,CAAd;AAAA;AAAA;AAAA;AAAA;AAAA,kBAvBJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBAhBJ,eAyCI,QAAC,OAAD;AAAS,UAAA,KAAK,EAAC,QAAf;AAAwB,UAAA,SAAS,EAAC,KAAlC;AAAA,iCACE,QAAC,UAAD;AAAY,YAAA,OAAO,EAAE,KAAKd,YAA1B;AAAA,mCACI,QAAC,SAAD;AAAW,cAAA,KAAK,EAAC;AAAjB;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBAzCJ,eA8CI,QAAC,WAAD;AAAA;AAAA;AAAA;AAAA,gBA9CJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YADW,gBAoDX,QAAC,KAAD;AAAO,MAAA,SAAS,EAAEE,OAAO,CAACvC,KAA1B;AAAA,6BACE;AAAK,QAAA,SAAS,EAAEuC,OAAO,CAACrC,OAAxB;AAAA,gCACE;AAAK,UAAA,SAAS,EAAC,eAAf;AAAA,iCACI;AAAK,YAAA,GAAG,EAAEnB,OAAV;AAAmB,YAAA,KAAK,EAAC,KAAzB;AAA+B,YAAA,MAAM,EAAC,KAAtC;AAA4C,YAAA,GAAG,EAAC,SAAhD;AAA0D,YAAA,SAAS,EAAC;AAApE;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,gBADF,eAIE;AAAA;AAAA;AAAA;AAAA,gBAJF,eAKE,QAAC,UAAD;AAAY,UAAA,OAAO,EAAC,OAApB;AAA4B,UAAA,KAAK,EAAC,QAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBALF,eAOE;AAAA;AAAA;AAAA;AAAA,gBAPF,eAQE,QAAC,UAAD;AAAY,UAAA,OAAO,EAAC,OAApB;AAA4B,UAAA,KAAK,EAAC,QAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBARF,eAUE;AAAK,UAAA,SAAS,EAAEwD,OAAO,CAACnB,OAAxB;AAAA,kCACM,QAAC,MAAD;AAAQ,YAAA,OAAO,EAAC,WAAhB;AAA4B,YAAA,KAAK,EAAC,SAAlC;AAA4C,YAAA,SAAS,EAAExC,IAAvD;AAA6D,YAAA,EAAE,EAAC,QAAhE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADN,eAIM,QAAC,MAAD;AAAQ,YAAA,OAAO,EAAC,WAAhB;AAA4B,YAAA,KAAK,EAAC,WAAlC;AAA8C,YAAA,SAAS,EAAEA,IAAzD;AAA+D,YAAA,EAAE,EAAC,SAAlE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAJN;AAAA;AAAA;AAAA;AAAA;AAAA,gBAVF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YArDgB,gBA2Eb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YA3EP;AA6EA,WAAOsE,aAAP;AACH;;AAtG2B;;AAyGhC,MAAME,eAAe,GAAIC,KAAD,KAAY;AAChCb,EAAAA,IAAI,EAAEa,KAAK,CAACb;AADoB,CAAZ,CAAxB;;AAIA,MAAMc,iBAAiB,GAAG;AAAE1D,EAAAA,UAAF;AAAcC,EAAAA;AAAd,CAA1B;AAEAwB,OAAO,CAACkC,SAAR,GAAoB;AAChB3D,EAAAA,UAAU,EAAElB,SAAS,CAAC8E,IAAV,CAAeC,UADX;AAEhB5D,EAAAA,WAAW,EAAEnB,SAAS,CAAC8E,IAAV,CAAeC,UAFZ;AAGhBjB,EAAAA,IAAI,EAAE9D,SAAS,CAACgF,MAAV,CAAiBD,UAHP;AAIhBlB,EAAAA,OAAO,EAAE7D,SAAS,CAACgF,MAAV,CAAiBD;AAJV,CAApB;AAOA,eAAe9D,OAAO,CAACyD,eAAD,EAAkBE,iBAAlB,CAAP,CAA6C3E,UAAU,CAACmB,MAAD,CAAV,CAAmBuB,OAAnB,CAA7C,CAAf","sourcesContent":["import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport { Link } from 'react-router-dom';\nimport dayjs from 'dayjs';\nimport EditDetails from './EditDetails';\nimport UpouImg from '../images/upouimg.png';\n\n// MUI stuff\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport MuiLink from '@material-ui/core/Link';\nimport Paper from '@material-ui/core/Paper';\nimport IconButton from '@material-ui/core/IconButton';\nimport Tooltip from '@material-ui/core/Tooltip';\n\n// Icons\nimport LocationOn from '@material-ui/icons/LocationOn';\nimport LinkIcon from '@material-ui/icons/Link';\nimport CalendarToday from '@material-ui/icons/CalendarToday';\nimport EditIcon from '@material-ui/icons/Edit';\nimport ExitToApp from '@material-ui/icons/ExitToApp';\n\n// Redux stuff\nimport { connect } from 'react-redux';\nimport { logoutUser, uploadImage } from '../redux/actions/userActions';\n\nconst styles = (theme) => ({\n    paper: {\n      padding: 20\n    },\n    profile: {\n      '& .image-wrapper': {\n        textAlign: 'center',\n        position: 'relative',\n        '& button': {\n          position: 'absolute',\n          top: '80%',\n          left: '70%'\n        }\n      },\n      '& .profile-image': {\n        width: 200,\n        height: 200,\n        objectFit: 'cover',\n        maxWidth: '100%',\n        borderRadius: '50%'\n      },\n      '& .profile-details': {\n        textAlign: 'center',\n        '& span, svg': {\n          verticalAlign: 'middle'\n        },\n        '& a': {\n          color: theme.palette.primary.main\n        }\n      },\n      '& hr': {\n        border: 'none',\n        margin: '0 0 10px 0'\n      },\n      '& svg.button': {\n        '&:hover': {\n          cursor: 'pointer'\n        }\n      }\n    },\n    buttons: {\n      textAlign: 'center',\n      '& a': {\n        margin: '20px 10px'\n      }\n    }\n  });\n\nclass Profile extends Component {\n  handleImageChange = (event) => {\n    const image = event.target.files[0];\n    const formData = new FormData();\n    formData.append('image', image, image.name);\n    this.props.uploadImage(formData);\n  };\n  handleEditPicture =() => {\n    const fileInput = document.getElementById('imageInput');\n    fileInput.click();\n  };\n  handleLogout = () => {\n    this.props.logoutUser();\n  }\n  render() {\n    const {\n      classes,\n      user: {\n        credentials: { handle, createDate, userImage, bio, website, location },\n        loading,\n        authenticated\n      }\n    } = this.props;\n\n        let profileMarkup = !loading ? (\n          authenticated ? (\n            <Paper className={classes.paper}>\n                <div className={classes.profile}>\n                    <div className=\"image-wrapper\">\n                        <img src={userImage} alt=\"profile\" className=\"profile-image\" />\n                        <input \n                          type=\"file\" \n                          id=\"imageInput\" \n                          hidden=\"hidden\"\n                          onChange={this.handleImageChange}\n                        />\n                        <Tooltip title=\"Edit profile picture\" placement=\"top\">\n                          <IconButton onClick={this.handleEditPicture} className=\"button\">\n                            <EditIcon color=\"primary\"/>\n                          </IconButton>\n                        </Tooltip>\n                    </div>\n                    <hr/>\n                    <div className=\"profile-details\">\n                        <MuiLink component={Link} to={`/users/${handle}`} color=\"primary\" variant=\"h5\">\n                            @{handle}\n                        </MuiLink>\n                        <hr/>\n                        {bio && <Typography variant=\"body2\">{bio}</Typography>}\n                        <hr/>\n                        {location && (\n                            <Fragment>\n                                <LocationOn color=\"primary\"/> <span>{location}</span>\n                                <hr/>\n                            </Fragment>\n                        )}\n                        {website && (\n                            <Fragment>\n                                <LinkIcon color=\"primary\"/>\n                                <a href={website} target=\"_blank\" rel=\"noopener noreferrer\">\n                                    {' '}{website}\n                                </a>\n                                <hr/>\n                            </Fragment>\n                        )}\n                        <CalendarToday color=\"primary\"/>{' '}\n                        <span>Joined {dayjs(createDate).format('MMM DD YYYY')}</span>\n                    </div>\n                    <Tooltip title=\"Logout\" placement=\"top\">\n                      <IconButton onClick={this.handleLogout}>\n                          <ExitToApp color=\"primary\"/>\n                      </IconButton>\n                    </Tooltip>\n                    <EditDetails/>\n                </div>\n            </Paper>\n        ) : (\n            <Paper className={classes.paper}>\n              <div className={classes.profile}>\n                <div className=\"image-wrapper\">\n                    <img src={UpouImg} width=\"130\" height=\"130\" alt=\"profile\" className=\"profile-image\" />\n                </div>\n                <hr/>\n                <Typography variant=\"body2\" align=\"center\">\n                      Plantrs app is a social media-enabled botanical repository. This project is submitted to the Faculty of Information and Communication Studies in partial fulfillment of the requirements for the degree Master of Information Systems at the University of the Philippines - Open University, Los Baños, Laguna. </Typography>\n                <hr/>\n                <Typography variant=\"body2\" align=\"center\">\n                      User profile is not displayed, please login.</Typography>\n                <div className={classes.buttons}>\n                      <Button variant=\"contained\" color=\"primary\" component={Link} to=\"/login\">\n                          Login\n                      </Button>\n                      <Button variant=\"contained\" color=\"secondary\" component={Link} to=\"/signup\">\n                          Signup\n                      </Button>\n                  </div>\n              </div>\n                \n            </Paper>\n        ) ) : (<p>loading...</p>)\n\n        return profileMarkup;\n    }\n}\n\nconst mapStateToProps = (state) => ({\n    user: state.user\n});\n\nconst mapActionsToProps = { logoutUser, uploadImage };\n\nProfile.propTypes = {\n    logoutUser: PropTypes.func.isRequired,\n    uploadImage: PropTypes.func.isRequired,\n    user: PropTypes.object.isRequired,\n    classes: PropTypes.object.isRequired\n};\n\nexport default connect(mapStateToProps, mapActionsToProps )(withStyles(styles)(Profile));\n"]},"metadata":{},"sourceType":"module"}