{"ast":null,"code":"import _classCallCheck from\"/Volumes/External/MasterGithub/plantrs-ph-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Volumes/External/MasterGithub/plantrs-ph-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Volumes/External/MasterGithub/plantrs-ph-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Volumes/External/MasterGithub/plantrs-ph-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import axios from'axios';import Plant from'../components/plant/Plant';import StaticProfile from'../components/profile/StaticProfile';import Grid from'@material-ui/core/Grid';import PlantSkeleton from'../util/PlantSkeleton';import ProfileSkeleton from'../util/ProfileSkeleton';// Redux\nimport{connect}from'react-redux';import{getUserData}from'../redux/actions/dataActions';var user=/*#__PURE__*/function(_Component){_inherits(user,_Component);var _super=_createSuper(user);function user(){var _this;_classCallCheck(this,user);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={profile:null,plantIdParam:null};return _this;}_createClass(user,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var handle=this.props.match.params.handle;var plantId=this.props.match.params.plantId;if(plantId)this.setState({plantIdParam:plantId});this.props.getUserData(handle);axios.get(\"/user/\".concat(handle)).then(function(res){_this2.setState({profile:res.data.user});}).catch(function(err){return console.log(err);});}},{key:\"render\",value:function render(){var _this$props$data=this.props.data,plants=_this$props$data.plants,loading=_this$props$data.loading;var plantIdParam=this.state.plantIdParam;var plantsMarkup=loading?/*#__PURE__*/React.createElement(PlantSkeleton,null):plants===null?/*#__PURE__*/React.createElement(\"p\",null,\"No plants for this user...\"):!plantIdParam?plants.map(function(plant){return/*#__PURE__*/React.createElement(Plant,{key:plant.plantId,plant:plant});}):plants.map(function(plant){if(plant.plantId!==plantIdParam)return/*#__PURE__*/React.createElement(Plant,{key:plant.plantId,plant:plant});else return/*#__PURE__*/React.createElement(Plant,{key:plant.plantId,plant:plant,openDialog:true});});return/*#__PURE__*/React.createElement(Grid,{container:true,spacing:2},/*#__PURE__*/React.createElement(Grid,{item:true,sm:4,xs:12},this.state.profile===null?/*#__PURE__*/React.createElement(ProfileSkeleton,null):/*#__PURE__*/React.createElement(StaticProfile,{profile:this.state.profile})),/*#__PURE__*/React.createElement(Grid,{item:true,sm:8,xs:12},plantsMarkup));}}]);return user;}(Component);var mapStateToProps=function mapStateToProps(state){return{data:state.data};};export default connect(mapStateToProps,{getUserData:getUserData})(user);","map":{"version":3,"sources":["/Volumes/External/MasterGithub/plantrs-ph-app/src/pages/user.js"],"names":["React","Component","axios","Plant","StaticProfile","Grid","PlantSkeleton","ProfileSkeleton","connect","getUserData","user","state","profile","plantIdParam","handle","props","match","params","plantId","setState","get","then","res","data","catch","err","console","log","plants","loading","plantsMarkup","map","plant","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport axios from 'axios';\nimport Plant from '../components/plant/Plant';\nimport StaticProfile from '../components/profile/StaticProfile';\nimport Grid from '@material-ui/core/Grid';\nimport PlantSkeleton from '../util/PlantSkeleton';\nimport ProfileSkeleton from '../util/ProfileSkeleton';\n// Redux\nimport { connect } from 'react-redux';\nimport { getUserData } from '../redux/actions/dataActions';\n\nclass user extends Component {\n    state = {\n        profile: null,\n        plantIdParam: null\n    };\n\n    componentDidMount(){\n        const handle = this.props.match.params.handle;\n        const plantId = this.props.match.params.plantId;\n\n        if(plantId) this.setState({ plantIdParam: plantId });\n\n        this.props.getUserData(handle);\n        axios.get(`/user/${handle}`)\n            .then(res => {\n                this.setState({\n                    profile: res.data.user\n                })\n            })\n            .catch(err => console.log(err));\n    }\n    render() {\n        const { plants, loading } = this.props.data;\n        const { plantIdParam } = this.state;\n\n        const plantsMarkup = loading ? (\n            <PlantSkeleton/>\n        ) : plants === null ? (\n            <p>No plants for this user...</p>\n        ) : !plantIdParam ? (\n            plants.map(plant => <Plant key={plant.plantId} plant={plant}/>)\n        ) : (\n            plants.map(plant => {\n                if(plant.plantId !== plantIdParam)\n                    return <Plant key={plant.plantId} plant={plant}/>\n                else return <Plant key={plant.plantId} plant={plant} openDialog/> \n            })\n        )\n\n        return (\n            <Grid container spacing={2}>\n                <Grid item sm={4} xs={12}>\n                    {this.state.profile === null ? (\n                        <ProfileSkeleton/>\n                    ) : (<StaticProfile profile={this.state.profile} />)}\n                </Grid>\n                <Grid item sm={8} xs={12}>\n                    {plantsMarkup}\n                </Grid>\n            </Grid>\n        )\n    }\n}\n\nuser.propTypes = {\n    getUserData: PropTypes.func.isRequired,\n    data: PropTypes.object.isRequired\n}\n\nconst mapStateToProps = state => ({\n    data: state.data\n})\n\nexport default connect(mapStateToProps, {getUserData})(user);\n"]},"metadata":{},"sourceType":"module"}