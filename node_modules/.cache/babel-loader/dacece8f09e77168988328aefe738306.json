{"ast":null,"code":"import _classCallCheck from \"/Volumes/extra/is295/plantrs-ph-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Volumes/extra/is295/plantrs-ph-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Volumes/extra/is295/plantrs-ph-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Volumes/extra/is295/plantrs-ph-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Volumes/extra/is295/plantrs-ph-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Volumes/extra/is295/plantrs-ph-app/src/components/Profile.js\";\nimport React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport { Link } from 'react-router-dom';\nimport dayjs from 'dayjs';\nimport EditDetails from './EditDetails';\nimport MyButton from '../util/MyButton';\nimport UpouImg from '../images/upouimg.png'; // MUI stuff\n\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport MuiLink from '@material-ui/core/Link';\nimport Paper from '@material-ui/core/Paper'; // Icons\n\nimport LocationOn from '@material-ui/icons/LocationOn';\nimport LinkIcon from '@material-ui/icons/Link';\nimport CalendarToday from '@material-ui/icons/CalendarToday';\nimport EditIcon from '@material-ui/icons/Edit';\nimport ExitToApp from '@material-ui/icons/ExitToApp'; // Redux stuff\n\nimport { connect } from 'react-redux';\nimport { logoutUser, uploadImage } from '../redux/actions/userActions';\n\nvar styles = function styles(theme) {\n  return {\n    paper: {\n      padding: 20\n    },\n    profile: {\n      '& .image-wrapper': {\n        textAlign: 'center',\n        position: 'relative',\n        '& button': {\n          position: 'absolute',\n          top: '80%',\n          left: '70%'\n        }\n      },\n      '& .profile-image': {\n        width: 200,\n        height: 200,\n        objectFit: 'cover',\n        maxWidth: '100%',\n        borderRadius: '50%'\n      },\n      '& .profile-details': {\n        textAlign: 'center',\n        '& span, svg': {\n          verticalAlign: 'middle'\n        },\n        '& a': {\n          color: theme.palette.primary.main\n        }\n      },\n      '& hr': {\n        border: 'none',\n        margin: '0 0 10px 0'\n      },\n      '& svg.button': {\n        '&:hover': {\n          cursor: 'pointer'\n        }\n      }\n    },\n    buttons: {\n      textAlign: 'center',\n      '& a': {\n        margin: '20px 10px'\n      }\n    }\n  };\n};\n\nvar Profile = /*#__PURE__*/function (_Component) {\n  _inherits(Profile, _Component);\n\n  function Profile() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Profile);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Profile)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.handleImageChange = function (event) {\n      var image = event.target.files[0];\n      var formData = new FormData();\n      formData.append('image', image, image.name);\n\n      _this.props.uploadImage(formData);\n    };\n\n    _this.handleEditPicture = function () {\n      var fileInput = document.getElementById('imageInput');\n      fileInput.click();\n    };\n\n    _this.handleLogout = function () {\n      _this.props.logoutUser();\n    };\n\n    return _this;\n  }\n\n  _createClass(Profile, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          classes = _this$props.classes,\n          _this$props$user = _this$props.user,\n          _this$props$user$cred = _this$props$user.credentials,\n          handle = _this$props$user$cred.handle,\n          createDate = _this$props$user$cred.createDate,\n          userImage = _this$props$user$cred.userImage,\n          bio = _this$props$user$cred.bio,\n          website = _this$props$user$cred.website,\n          location = _this$props$user$cred.location,\n          loading = _this$props$user.loading,\n          authenticated = _this$props$user.authenticated;\n      var profileMarkup = !loading ? authenticated ? /*#__PURE__*/React.createElement(Paper, {\n        className: classes.paper,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: classes.profile,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"image-wrapper\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: userImage,\n        alt: \"profile\",\n        className: \"profile-image\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"file\",\n        id: \"imageInput\",\n        hidden: \"hidden\",\n        onChange: this.handleImageChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(MyButton, {\n        tip: \"Edit profile picture\",\n        onClick: this.handleEditPicture,\n        btnClassName: \"button\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(EditIcon, {\n        color: \"primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 27\n        }\n      }))), /*#__PURE__*/React.createElement(\"hr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"profile-details\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(MuiLink, {\n        component: Link,\n        to: \"/users/\".concat(handle),\n        color: \"primary\",\n        variant: \"h5\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 25\n        }\n      }, \"@\", handle), /*#__PURE__*/React.createElement(\"hr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 25\n        }\n      }), bio && /*#__PURE__*/React.createElement(Typography, {\n        variant: \"body2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 33\n        }\n      }, bio), /*#__PURE__*/React.createElement(\"hr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 25\n        }\n      }), location && /*#__PURE__*/React.createElement(Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(LocationOn, {\n        color: \"primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 33\n        }\n      }), \" \", /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 63\n        }\n      }, location), /*#__PURE__*/React.createElement(\"hr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 33\n        }\n      })), website && /*#__PURE__*/React.createElement(Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(LinkIcon, {\n        color: \"primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 33\n        }\n      }), /*#__PURE__*/React.createElement(\"a\", {\n        href: website,\n        target: \"_blank\",\n        rel: \"noopener noreferrer\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 33\n        }\n      }, ' ', website), /*#__PURE__*/React.createElement(\"hr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 33\n        }\n      })), /*#__PURE__*/React.createElement(CalendarToday, {\n        color: \"primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 25\n        }\n      }), ' ', /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 25\n        }\n      }, \"Joined \", dayjs(createDate).format('MMM DD YYYY'))), /*#__PURE__*/React.createElement(MyButton, {\n        tip: \"Logout\",\n        onClick: this.handleLogout,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(ExitToApp, {\n        color: \"primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 23\n        }\n      })), /*#__PURE__*/React.createElement(EditDetails, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 21\n        }\n      }))) : /*#__PURE__*/React.createElement(Paper, {\n        className: classes.paper,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: classes.profile,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"image-wrapper\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: UpouImg,\n        width: \"130\",\n        height: \"130\",\n        alt: \"profile\",\n        className: \"profile-image\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 21\n        }\n      })), /*#__PURE__*/React.createElement(\"hr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(Typography, {\n        variant: \"body2\",\n        align: \"center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 17\n        }\n      }, \"Plantrs app is a social media-enabled botanical repository. This project is submitted to the Faculty of Information and Communication Studies in partial fulfillment of the requirements for the degree Master of Information Systems at the University of the Philippines - Open University, Los Ba\\xF1os, Laguna. \"), /*#__PURE__*/React.createElement(\"hr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(Typography, {\n        variant: \"body2\",\n        align: \"center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 17\n        }\n      }, \"User profile is not displayed, please login.\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: classes.buttons,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        variant: \"contained\",\n        color: \"primary\",\n        component: Link,\n        to: \"/login\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 23\n        }\n      }, \"Login\"), /*#__PURE__*/React.createElement(Button, {\n        variant: \"contained\",\n        color: \"secondary\",\n        component: Link,\n        to: \"/signup\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 23\n        }\n      }, \"Signup\")))) : /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 16\n        }\n      }, \"loading...\");\n      return profileMarkup;\n    }\n  }]);\n\n  return Profile;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    user: state.user\n  };\n};\n\nvar mapActionsToProps = {\n  logoutUser: logoutUser,\n  uploadImage: uploadImage\n};\nProfile.propTypes = {\n  logoutUser: PropTypes.func.isRequired,\n  uploadImage: PropTypes.func.isRequired,\n  user: PropTypes.object.isRequired,\n  classes: PropTypes.object.isRequired\n};\nexport default connect(mapStateToProps, mapActionsToProps)(withStyles(styles)(Profile));","map":{"version":3,"sources":["/Volumes/extra/is295/plantrs-ph-app/src/components/Profile.js"],"names":["React","Component","Fragment","PropTypes","withStyles","Link","dayjs","EditDetails","MyButton","UpouImg","Button","Typography","MuiLink","Paper","LocationOn","LinkIcon","CalendarToday","EditIcon","ExitToApp","connect","logoutUser","uploadImage","styles","theme","paper","padding","profile","textAlign","position","top","left","width","height","objectFit","maxWidth","borderRadius","verticalAlign","color","palette","primary","main","border","margin","cursor","buttons","Profile","handleImageChange","event","image","target","files","formData","FormData","append","name","props","handleEditPicture","fileInput","document","getElementById","click","handleLogout","classes","user","credentials","handle","createDate","userImage","bio","website","location","loading","authenticated","profileMarkup","format","mapStateToProps","state","mapActionsToProps","propTypes","func","isRequired","object"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport { Link } from 'react-router-dom';\nimport dayjs from 'dayjs';\nimport EditDetails from './EditDetails';\nimport MyButton from '../util/MyButton';\nimport UpouImg from '../images/upouimg.png';\n\n// MUI stuff\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport MuiLink from '@material-ui/core/Link';\nimport Paper from '@material-ui/core/Paper';\n\n// Icons\nimport LocationOn from '@material-ui/icons/LocationOn';\nimport LinkIcon from '@material-ui/icons/Link';\nimport CalendarToday from '@material-ui/icons/CalendarToday';\nimport EditIcon from '@material-ui/icons/Edit';\nimport ExitToApp from '@material-ui/icons/ExitToApp';\n\n// Redux stuff\nimport { connect } from 'react-redux';\nimport { logoutUser, uploadImage } from '../redux/actions/userActions';\n\nconst styles = (theme) => ({\n    paper: {\n      padding: 20\n    },\n    profile: {\n      '& .image-wrapper': {\n        textAlign: 'center',\n        position: 'relative',\n        '& button': {\n          position: 'absolute',\n          top: '80%',\n          left: '70%'\n        }\n      },\n      '& .profile-image': {\n        width: 200,\n        height: 200,\n        objectFit: 'cover',\n        maxWidth: '100%',\n        borderRadius: '50%'\n      },\n      '& .profile-details': {\n        textAlign: 'center',\n        '& span, svg': {\n          verticalAlign: 'middle'\n        },\n        '& a': {\n          color: theme.palette.primary.main\n        }\n      },\n      '& hr': {\n        border: 'none',\n        margin: '0 0 10px 0'\n      },\n      '& svg.button': {\n        '&:hover': {\n          cursor: 'pointer'\n        }\n      }\n    },\n    buttons: {\n      textAlign: 'center',\n      '& a': {\n        margin: '20px 10px'\n      }\n    }\n  });\n\nclass Profile extends Component {\n  handleImageChange = (event) => {\n    const image = event.target.files[0];\n    const formData = new FormData();\n    formData.append('image', image, image.name);\n    this.props.uploadImage(formData);\n  };\n  handleEditPicture =() => {\n    const fileInput = document.getElementById('imageInput');\n    fileInput.click();\n  };\n  handleLogout = () => {\n    this.props.logoutUser();\n  }\n  render() {\n    const {\n      classes,\n      user: {\n        credentials: { handle, createDate, userImage, bio, website, location },\n        loading,\n        authenticated\n      }\n    } = this.props;\n\n        let profileMarkup = !loading ? (\n          authenticated ? (\n            <Paper className={classes.paper}>\n                <div className={classes.profile}>\n                    <div className=\"image-wrapper\">\n                        <img src={userImage} alt=\"profile\" className=\"profile-image\" />\n                        <input \n                          type=\"file\" \n                          id=\"imageInput\" \n                          hidden=\"hidden\"\n                          onChange={this.handleImageChange}\n                        />\n                        <MyButton tip=\"Edit profile picture\" onClick={this.handleEditPicture} btnClassName=\"button\">\n                          <EditIcon color=\"primary\"/>\n                        </MyButton>\n                    </div>\n                    <hr/>\n                    <div className=\"profile-details\">\n                        <MuiLink component={Link} to={`/users/${handle}`} color=\"primary\" variant=\"h5\">\n                            @{handle}\n                        </MuiLink>\n                        <hr/>\n                        {bio && <Typography variant=\"body2\">{bio}</Typography>}\n                        <hr/>\n                        {location && (\n                            <Fragment>\n                                <LocationOn color=\"primary\"/> <span>{location}</span>\n                                <hr/>\n                            </Fragment>\n                        )}\n                        {website && (\n                            <Fragment>\n                                <LinkIcon color=\"primary\"/>\n                                <a href={website} target=\"_blank\" rel=\"noopener noreferrer\">\n                                    {' '}{website}\n                                </a>\n                                <hr/>\n                            </Fragment>\n                        )}\n                        <CalendarToday color=\"primary\"/>{' '}\n                        <span>Joined {dayjs(createDate).format('MMM DD YYYY')}</span>\n                    </div>\n                    <MyButton tip=\"Logout\" onClick={this.handleLogout}>\n                      <ExitToApp color=\"primary\"/>\n                    </MyButton>\n                    <EditDetails/>\n                </div>\n            </Paper>\n        ) : (\n            <Paper className={classes.paper}>\n              <div className={classes.profile}>\n                <div className=\"image-wrapper\">\n                    <img src={UpouImg} width=\"130\" height=\"130\" alt=\"profile\" className=\"profile-image\" />\n                </div>\n                <hr/>\n                <Typography variant=\"body2\" align=\"center\">\n                      Plantrs app is a social media-enabled botanical repository. This project is submitted to the Faculty of Information and Communication Studies in partial fulfillment of the requirements for the degree Master of Information Systems at the University of the Philippines - Open University, Los Baños, Laguna. </Typography>\n                <hr/>\n                <Typography variant=\"body2\" align=\"center\">\n                      User profile is not displayed, please login.</Typography>\n                <div className={classes.buttons}>\n                      <Button variant=\"contained\" color=\"primary\" component={Link} to=\"/login\">\n                          Login\n                      </Button>\n                      <Button variant=\"contained\" color=\"secondary\" component={Link} to=\"/signup\">\n                          Signup\n                      </Button>\n                  </div>\n              </div>\n                \n            </Paper>\n        ) ) : (<p>loading...</p>)\n\n        return profileMarkup;\n    }\n}\n\nconst mapStateToProps = (state) => ({\n    user: state.user\n});\n\nconst mapActionsToProps = { logoutUser, uploadImage };\n\nProfile.propTypes = {\n    logoutUser: PropTypes.func.isRequired,\n    uploadImage: PropTypes.func.isRequired,\n    user: PropTypes.object.isRequired,\n    classes: PropTypes.object.isRequired\n};\n\nexport default connect(mapStateToProps, mapActionsToProps )(withStyles(styles)(Profile));\n"]},"metadata":{},"sourceType":"module"}