{"ast":null,"code":"import _defineProperty from\"/Volumes/External/MasterGithub/plantrs-ph-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Volumes/External/MasterGithub/plantrs-ph-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Volumes/External/MasterGithub/plantrs-ph-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Volumes/External/MasterGithub/plantrs-ph-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Volumes/External/MasterGithub/plantrs-ph-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _objectSpread from\"/Volumes/External/MasterGithub/plantrs-ph-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React,{Component,Fragment}from'react';import withStyles from'@material-ui/core/styles/withStyles';import MyButton from'../../util/MyButton';// Redux stuff\nimport{connect}from'react-redux';import{editUserDetails}from'../../redux/actions/userActions';// MUI stuff\nimport Button from'@material-ui/core/Button';import TextField from'@material-ui/core/TextField';import Dialog from'@material-ui/core/Dialog';import DialogActions from'@material-ui/core/DialogActions';import DialogContent from'@material-ui/core/DialogContent';import DialogTitle from'@material-ui/core/DialogTitle';// Icons\nimport EditIcon from'@material-ui/icons/Edit';var styles=function styles(theme){return _objectSpread(_objectSpread({},theme.spreadThis),{},{button:{float:'right'}});};var EditDetails=/*#__PURE__*/function(_Component){_inherits(EditDetails,_Component);var _super=_createSuper(EditDetails);function EditDetails(){var _this;_classCallCheck(this,EditDetails);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={bio:'',website:'',location:'',open:false};_this.mapUserDetailsToState=function(credentials){_this.setState({bio:credentials.bio?credentials.bio:'',website:credentials.website?credentials.website:'',location:credentials.location?credentials.location:''});};_this.handleOpen=function(){_this.setState({open:true});_this.mapUserDetailsToState(_this.props.credentials);};_this.handleClose=function(){_this.setState({open:false});};_this.handleChange=function(event){_this.setState(_defineProperty({},event.target.name,event.target.value));};_this.handleSubmit=function(){var userDetails={bio:_this.state.bio,website:_this.state.website,location:_this.state.location};_this.props.editUserDetails(userDetails);_this.handleClose();};return _this;}_createClass(EditDetails,[{key:\"componentDidMount\",value:function componentDidMount(){var credentials=this.props.credentials;this.mapUserDetailsToState(credentials);}},{key:\"render\",value:function render(){var classes=this.props.classes;return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(MyButton,{tip:\"Edit profile details\",onClick:this.handleOpen,btnClassName:classes.button},/*#__PURE__*/React.createElement(EditIcon,{color:\"primary\"})),/*#__PURE__*/React.createElement(Dialog,{open:this.state.open,onClose:this.handleClose,fullWidth:true,maxWidth:\"sm\"},/*#__PURE__*/React.createElement(DialogTitle,null,\"Edit your details\"),/*#__PURE__*/React.createElement(DialogContent,null,/*#__PURE__*/React.createElement(\"form\",null,/*#__PURE__*/React.createElement(TextField,{name:\"bio\",type:\"text\",label:\"Bio\",multiline:true,rows:\"3\",placeholder:\"A short bio about yourself\",className:classes.textField,value:this.state.bio,onChange:this.handleChange,fullWidth:true}),/*#__PURE__*/React.createElement(TextField,{name:\"website\",type:\"text\",label:\"Website\",placeholder:\"Your personal/professional website\",className:classes.textField,value:this.state.website,onChange:this.handleChange,fullWidth:true}),/*#__PURE__*/React.createElement(TextField,{name:\"location\",type:\"text\",label:\"Location\",placeholder:\"Where you live\",className:classes.textField,value:this.state.location,onChange:this.handleChange,fullWidth:true}))),/*#__PURE__*/React.createElement(DialogActions,null,/*#__PURE__*/React.createElement(Button,{onClick:this.handleClose,color:\"primary\"},\"Cancel\"),/*#__PURE__*/React.createElement(Button,{onClick:this.handleSubmit,color:\"primary\"},\"Save\"))));}}]);return EditDetails;}(Component);;var mapStateToProps=function mapStateToProps(state){return{credentials:state.user.credentials};};export default connect(mapStateToProps,{editUserDetails:editUserDetails})(withStyles(styles)(EditDetails));","map":{"version":3,"sources":["/Volumes/External/MasterGithub/plantrs-ph-app/src/components/profile/EditDetails.js"],"names":["React","Component","Fragment","withStyles","MyButton","connect","editUserDetails","Button","TextField","Dialog","DialogActions","DialogContent","DialogTitle","EditIcon","styles","theme","spreadThis","button","float","EditDetails","state","bio","website","location","open","mapUserDetailsToState","credentials","setState","handleOpen","props","handleClose","handleChange","event","target","name","value","handleSubmit","userDetails","classes","textField","mapStateToProps","user"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport MyButton from '../../util/MyButton';\n\n// Redux stuff\nimport { connect } from 'react-redux';\nimport { editUserDetails } from '../../redux/actions/userActions';\n\n// MUI stuff\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\n// Icons\nimport EditIcon from '@material-ui/icons/Edit';\n\nconst styles = (theme) => ({\n    ...theme.spreadThis,\n    button: {\n        float: 'right'\n    }\n})\n\nclass EditDetails extends Component {\n    state = {\n        bio: '',\n        website: '',\n        location: '',\n        open: false\n    };\n    mapUserDetailsToState = (credentials) => {\n        this.setState({\n            bio: credentials.bio ? credentials.bio : '',\n            website: credentials.website ? credentials.website : '',\n            location: credentials.location ? credentials.location : ''\n        });\n    };\n    handleOpen = () => {\n        this.setState({ open: true });\n        this.mapUserDetailsToState(this.props.credentials);\n    };\n    handleClose = () => {\n        this.setState({ open: false });\n    };\n    componentDidMount(){\n        const { credentials } = this.props;\n        this.mapUserDetailsToState(credentials);\n    };\n    handleChange = (event) => {\n        this.setState({\n            [event.target.name]: event.target.value\n        });\n    };\n    handleSubmit = () => {\n        const userDetails = {\n            bio: this.state.bio,\n            website: this.state.website,\n            location: this.state.location,\n        };\n        this.props.editUserDetails(userDetails);\n        this.handleClose();\n    };\n\n    render() {\n        const { classes } = this.props;\n        return (\n            <Fragment>\n                <MyButton tip=\"Edit profile details\" onClick={this.handleOpen} btnClassName={classes.button}>\n                    <EditIcon color=\"primary\"/>\n                </MyButton>\n                <Dialog\n                open={this.state.open}\n                onClose={this.handleClose}\n                fullWidth\n                maxWidth=\"sm\">\n                    <DialogTitle>Edit your details</DialogTitle>\n                    <DialogContent>\n                        <form>\n                            <TextField\n                                name=\"bio\"\n                                type=\"text\"\n                                label=\"Bio\"\n                                multiline\n                                rows=\"3\"\n                                placeholder=\"A short bio about yourself\"\n                                className={classes.textField}\n                                value={this.state.bio}\n                                onChange={this.handleChange}\n                                fullWidth\n                            />\n                            <TextField\n                                name=\"website\"\n                                type=\"text\"\n                                label=\"Website\"\n                                placeholder=\"Your personal/professional website\"\n                                className={classes.textField}\n                                value={this.state.website}\n                                onChange={this.handleChange}\n                                fullWidth\n                            />\n                            <TextField\n                                name=\"location\"\n                                type=\"text\"\n                                label=\"Location\"\n                                placeholder=\"Where you live\"\n                                className={classes.textField}\n                                value={this.state.location}\n                                onChange={this.handleChange}\n                                fullWidth\n                            />\n                        </form>\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={this.handleClose} color=\"primary\">\n                            Cancel\n                        </Button>\n                        <Button onClick={this.handleSubmit} color=\"primary\">\n                            Save\n                        </Button>\n                    </DialogActions>\n                </Dialog>\n            </Fragment>\n        )\n    }\n};\n\nEditDetails.propTypes = {\n    editUserDetails: PropTypes.func.isRequired,\n    classes: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = (state) => ({\n    credentials: state.user.credentials\n})\n\nexport default connect(mapStateToProps, { editUserDetails })(withStyles(styles)(EditDetails));\n"]},"metadata":{},"sourceType":"module"}